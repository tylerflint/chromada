<div id='admin-grid-wrapper' class='clear'>
	
	<div id="admin-grid">
		<h1><%= @title %></h1>

		<%= render :partial => 'admin/shared/superFilter'%>
		
		<div class='toolbar'>

			<div class="toolbar-btn">
				<%= link_to "+ Create Employee", new_admin_company_employee_path(@company, @employee), :class => 'toolbar-btn-text' %>
			</div>
			
			<div class='pages-wrapper'>		
				<ul class='pages'>
					<li class='active'>1</li>
					<li><a>2</a></li>
					<li><a>3</a></li>
					<li><a>4</a></li>
					<li><a>5</a></li>
					<li><a>6</a></li>
					<li><a>7</a></li>
					<li><a>8</a></li>
					<li><a>9</a></li>
					<li><a>10</a></li>
				</ul>

				<span class='total-pages'>244 pages</span>
			</div>

			<div class='page-views'>
				<ul>
					<li>per page:</li>
					<li class='active'>25</li>
					<li><a>50</a></li>
					<li><a>100</a></li>
				</ul>
			</div>
		</div>
		
		<div id='admin-grid-body'>
			<table id='admin-table'>
				<tr class='table-header'>
					<% @columns.each do |k, v| %>
						<th><%= v[:name] %></th>
					<% end %>
				</tr>
				<% get_model.each do |m| %>
					<tr class='even' title='Click to Edit' onclick='edit("<%= get_edit_url m.id %>")'>
						<% @columns.each do |k, v| %>
							<% if (v[:type] == :email) %>
								<td class='employee-email'><%= mail_to('tylerflint@gmail.com', 'tylerflint@gmail.com') %></td>
							<% elsif (v[:type] == :image) %>
								<td><%= link_to image_tag('temp/employee-photo.jpg', :alt => 'Steven R Davis', :title => 'Steven R Davis'), root_url, :id => 'employee-photo-######', :class=> 'employee-photo' %></td>
							<% elsif (v[:type] == :status) %>
								<td><div class='employee-status in'><span class='hide'>in</span></div></td>
							<% else %>
								<td><%= m.send k %></td>
							<% end %>
						<% end %>
					</tr>
				<% end %>
			</table>
		</div>

		<div class='toolbar'>

			<div class="toolbar-btn">
				<%= link_to "+ Create Employee", new_admin_company_employee_path(@company, @employee), :class => 'toolbar-btn-text' %>
			</div>
			
			<div class='pages-wrapper'>		
				<ul class='pages'>
					<li class='active'>1</li>
					<li><a>2</a></li>
					<li><a>3</a></li>
					<li><a>4</a></li>
					<li><a>5</a></li>
					<li><a>6</a></li>
					<li><a>7</a></li>
					<li><a>8</a></li>
					<li><a>9</a></li>
					<li><a>10</a></li>
				</ul>

				<span class='total-pages'>244 pages</span>
			</div>

			<div class='page-views'>
				<ul>
					<li>per page:</li>
					<li class='active'>25</li>
					<li><a>50</a></li>
					<li><a>100</a></li>
				</ul>
			</div>
		</div>

	</div>
	
	<div id="admin-grid-entity-wrapper">
		<!-- entity edit form will go here -->
	</div>	
</div>

<script type="text/javascript" charset="utf-8">
	var gridUseAjax = <%= @use_ajax ? true : false %>;
	function edit (url) {
		<% if @use_ajax %>
			$.get(url + "?ajax=1", function(data){
				$("#admin-grid-entity-wrapper").html(data);
				$("#admin-grid-wrapper").animate({"margin-left": "-=" + "750"});
			})
		<% else %>
			window.location = url
		<% end %>
	}
	function backToGrid () {
		$("#admin-grid-wrapper").animate({"margin-left": "+=" + "750"}, function(){
			$("#admin-grid-entity-wrapper").html('');
		});
	}
</script>