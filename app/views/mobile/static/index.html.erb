
<div class='index spotlight'>
	<div id='spotlight-left' class='spotlight-sprite content'>
		<div class='controls'>
			<div class="paging">
		        <a href="#link" rel="1" class='pager'></a>
		        <a href="#link" rel="2" class='pager'></a>
		    </div>
		</div>
		
		<div class="window">
	        <div class="image-reel">
	            <a href="#link" class='spotlight-sprite logo chromada'></a>
	            <a href="#link" class='spotlight-sprite logo ticker'></a>
	        </div>
	    </div>
	</div>
	
	<div id='spotlight-cover' class='spotlight-sprite'></div>
	
	<div id='spotlight-right' class='content'>
		<div class="window">
			<div class="content-reel">
				<div class='content-body chromada'>
					<h2>welcome to chromada</h2>
					<h3>web-base tools, superior orginazation, efficient business.</h3>
					<p>Simple tasks are often the most time consuming, unorganized and unmeasured details of a business. Chromada offers intuitive web-based tools to give you an unprecedented level of control and analytics of your business.</p>
					<a href='#link' class='button'>get started</a>
				</div>
				
				<div class='content-body ticker'>
					<h2>introducing ticker.</h2>
					<h3>the best way to keep track of your business.</h3>
					<p>There's a new breed of time tracking software in town. Using a simple web based interface, Ticker allows any computer or mobile device to become a quick and easy way for employees to clock in and out of work, and for the employer to watch.</p>
					<a href='#link' class='button'>try the demo</a>
				</div>
			</div>
		</div>
	</div>
</div>

<script type='text/javascript'>
	//<![CDATA[
	
		var play = null;
	
		$(document).ready(function() {
			//Show the paging and activate its first link
			$(".paging").show();
			$(".paging a:first").addClass("active");

			//Get size of the image, how many images there are, then determin the size of the image reel.
			var imageWidth 			= parseFloat($(".image-reel a").css('width')) + parseFloat($(".image-reel a").css('margin-left')) + parseFloat($(".image-reel a").css('margin-right'));
			var imageSum 			= $(".image-reel a").size();
			var imageReelWidth 		= imageSum * imageWidth;
			
			var contentWidth 		= parseFloat($(".content-body").css('width')) + parseFloat($(".content-body").css('margin-left')) + parseFloat($(".content-body").css('margin-right'));
			var contentSum	 		= $(".content-reel .content-body").size();
			var contentReelWidth 	= contentSum * contentWidth;

			//Adjust the image reel to its new size
			$(".image-reel").css({'width' : imageReelWidth});
			$(".content-reel").css({'width' : contentReelWidth});
			
			//Paging  and Slider Function
			rotate = function()
			{
			    var triggerID = $active.attr("rel") - 1; //Get number of times to slide
			    var imageReelPosition = triggerID * imageWidth; //Determines the distance the image reel needs to slide
				var contentReelPosition = triggerID * contentWidth; //Determines the distance the image reel needs to slide

			    $(".paging a").removeClass('active'); //Remove all active class
			    $active.addClass('active'); //Add active class (the $active is declared in the rotateSwitch function)

			    //Slider Animation
			    $(".image-reel").animate({
			        left: -imageReelPosition
			    }, 250 );
			
				//Slider Animation
			    $(".content-reel").animate({
			        left: -contentReelPosition
			    }, 250 );
			}; 

			//Rotation  and Timing Event
			rotateSwitch = function(){
			    play = setInterval(function(){ //Set timer
			        $active = $('.paging a.active').next(); //Move to the next paging
			        if ( $active.length === 0) { //If paging reaches the end...
			            $active = $('.paging a:first'); //go back to first
			        }
			        rotate(); //Trigger the paging and slider function
			    }, 12000); //Timer speed in milliseconds (7 seconds)
			};

			rotateSwitch(); //Run function on launch
			
			//On Hover
			$(".image-reel a").hover(function() {
			    clearInterval(play); //Stop the rotation
			}, function() {
			    rotateSwitch(); //Resume rotation timer
			});
			
			$(".content-reel div").hover(function() {
			    clearInterval(play); //Stop the rotation
			}, function() {
			    rotateSwitch(); //Resume rotation timer
			});

			//On Click
			$(".paging a").click(function() {
			    $active = $(this); //Activate the clicked paging
			    //Reset Timer
			    clearInterval(play); //Stop the rotation
			    rotate(); //Trigger rotation immediately
			    rotateSwitch(); // Resume rotation timer
			    return false; //Prevent browser jump to link anchor
			});
		});
	//]]>
</script>